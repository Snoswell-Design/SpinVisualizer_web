"use strict";!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SpinVisualizer=t():e.SpinVisualizer=t()}(this,(()=>(this.webpackChunk=this.webpackChunk||[]).push([[240],{917:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationChannel=t.ScrubAnimation=void 0;const r=a(906);t.ScrubAnimation=class{constructor(e){this.scene=e,this.channels=new Array,this.playSlider=new r.PlaySlider(e,1/30),e.gui.addControl(this.playSlider),this.playSlider.listeners.push((e=>{this.update(e)}))}addChannel(e){this.channels.push(e);let t=e.keyframes[e.keyframes.length-1][0];t>this.playSlider.maximum&&(this.playSlider.maximum=t);var a=new Set;for(let e of this.channels)for(let t of e.keyframes)a.add(t[0]);this.playSlider.updateTicks(new Array(...a).sort(((e,t)=>e-t)))}add(e,t,a){this.addChannel(i.ControlParameter(e,t,a))}update(e){for(const r of this.channels){for(var t=-1,a=0;a<r.keyframes.length;a++)r.keyframes[a][0]<e&&(t=a);if(t<0)r.callback(r.keyframes[0][1]);else if(t>=r.keyframes.length-1)r.callback(r.keyframes[r.keyframes.length-1][1]);else{let[a,i]=r.keyframes[t],[n,s]=r.keyframes[t+1];r.callback(i+(e-a)/(n-a)*(s-i))}}}};class i{constructor(e,t){this.keyframes=e,this.callback=t}static ControlParameter(e,t,a){return new i(e,(e=>{t[a]=e}))}}t.AnimationChannel=i},906:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MakeSliderControl=t.TopSlider=t.PlaySlider=void 0;const r=a(689);class i extends r.Grid{constructor(e,t){super("play_slider"),this.playImg=e.assetLocation+"/images/play.svg",this.pauseImg=e.assetLocation+"/images/pause.svg",this.addColumnDefinition(30,!0),this.addColumnDefinition(1),this.verticalAlignment=r.Control.VERTICAL_ALIGNMENT_TOP,this.background="#99999999",this.width="100%",this.height="30px",this.playPause=r.Button.CreateImageOnlyButton("play/pause button",this.pauseImg),this.playPause.image.stretch=r.Image.STRETCH_UNIFORM,this.playPause.width="20px",this.playPause.height="20px",this.playPause.color="transparent",this.addControl(this.playPause,0,0),this.sliderContainer=new r.Rectangle,this.sliderContainer.width="100%",this.sliderContainer.height="100%",this.sliderContainer.thickness=0,this.addControl(this.sliderContainer,0,1),this.slider=new r.Slider("animation_slider"),this.slider.width="100%",this.slider.height="20px",this.slider.color="black",this.slider.minimum=0,this.slider.maximum=0,this.slider.step=t,this.tickContainer=new r.Grid,this.tickContainer.width="100%",this.tickContainer.height="100%",this.tickContainer.paddingLeftInPixels=this.slider.thumbWidthInPixels/2,this.tickContainer.paddingRightInPixels=this.slider.thumbWidthInPixels/2,this.tickContainer.background="#00000022",this.sliderContainer.addControl(this.tickContainer),this.sliderContainer.addControl(this.slider),this.currentTime=0,this.speed=1,this.paused=!1,this.suppressNextSliderUpdate=!1,this.listeners=new Array,e.scene.registerBeforeRender((()=>{if(!this.paused){this.currentTime+=e.scene.deltaTime*this.speed/1e3,this.currentTime>this.slider.maximum&&(this.currentTime=0),this.suppressNextSliderUpdate=!0,this.slider.value=this.currentTime;for(let e of this.listeners)e(this.currentTime)}})),this.slider.onValueChangedObservable.add((e=>{if(this.suppressNextSliderUpdate)this.suppressNextSliderUpdate=!1;else{this.currentTime=e,this.paused||(this.paused=!0,this.playPause.image.source=this.playImg);for(let e of this.listeners)e(this.currentTime)}})),this.playPause.onPointerClickObservable.add((()=>{this.paused?(this.paused=!1,this.playPause.image.source=this.pauseImg):(this.paused=!0,this.playPause.image.source=this.playImg)}))}get maximum(){return this.slider.maximum}set maximum(e){this.slider.maximum=e}updateTicks(e){this.tickContainer.clearControls();for(let e=this.tickContainer.columnCount-1;e>=0;e--)this.tickContainer.removeColumnDefinition(e);if(!(null==e||e.length<1)){e[0]>0&&e.unshift(0),e[e.length-1]<this.slider.maximum&&e.push(this.slider.maximum);for(let t=0;t<e.length-1;t++)if(this.tickContainer.addColumnDefinition(e[t+1]-e[t]),t%2==1){let e=new r.Rectangle;e.width="100%",e.height="100%",e.background="#55FF5566",e.thickness=0,this.tickContainer.addControl(e,0,t)}}}}t.PlaySlider=i,t.TopSlider=function(e,t,a,i,n){let s=new r.TextBlock(e+"_label");s.text=e,s.height="30px",s.color="black",s.textHorizontalAlignment=0,s.paddingLeftInPixels=5;let o=new r.Slider(e+"_slider");o.width="100%",o.height="20px",o.color="black",o.minimum=t,o.maximum=a,o.step=i,o.onValueChangedObservable.add(n);let l=new r.Grid(e+"_controls");return l.addColumnDefinition(150,!0),l.addColumnDefinition(1),l.verticalAlignment=r.Control.VERTICAL_ALIGNMENT_TOP,l.background="#99999999",l.width="100%",l.height="30px",l.addControl(s,0,0),l.addControl(o,0,1),[l,o]},t.MakeSliderControl=function(e){let t=new r.TextBlock(e+"_label");t.text=e,t.height="30px",t.color="black",t.textHorizontalAlignment=0;let a=new r.Slider(e+"_radius");a.width="100%",a.height="20px",a.color="black";let i=new r.StackPanel(e+"_controls");return i.width="100%",i.adaptHeightToChildren=!0,i.addControl(t),i.addControl(a),[i,a]}},198:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeFraction=t.makeClickableTable=void 0,t.makeClickableTable=function(e,t,a){var r,i=0;for(var n of t)n.length>i&&(i=n.length);for(var n of t)for(var s=e.insertRow(),o=0;o<i;o++){let e=s.insertCell();if(o<n.length){let t=n[o];e.appendChild(document.createTextNode(t)),e.addEventListener("click",(()=>{r.style.backgroundColor=null,r=e,e.style.backgroundColor="lightgreen",a(t)})),null==r&&(r=e,e.style.backgroundColor="lightgreen")}}},t.makeFraction=function(e,t){var a="";for(var r of e.toString())switch(r){case"-":a+="⁻";break;case"0":a+="⁰";break;case"1":a+="¹";break;case"2":a+="²";break;case"3":a+="³";break;case"4":a+="⁴";break;case"5":a+="⁵";break;case"6":a+="⁶";break;case"7":a+="⁷";break;case"8":a+="⁸";break;case"9":a+="⁹"}for(var r of(a+="⁄",t.toString()))switch(r){case"-":a+="₋";break;case"0":a+="₀";break;case"1":a+="₁";break;case"2":a+="₂";break;case"3":a+="₃";break;case"4":a+="₄";break;case"5":a+="₅";break;case"6":a+="₆";break;case"7":a+="₇";break;case"8":a+="₈";break;case"9":a+="₉"}return a}},519:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var i=Object.getOwnPropertyDescriptor(t,a);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,i)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),i=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.HTML=t.engine=t.SpinorScene=void 0;var n=a(302);Object.defineProperty(t,"SpinorScene",{enumerable:!0,get:function(){return n.SpinorScene}}),Object.defineProperty(t,"engine",{enumerable:!0,get:function(){return n.engine}}),i(a(906),t),i(a(84),t),i(a(970),t),i(a(23),t),i(a(174),t),i(a(646),t),i(a(590),t),i(a(917),t),t.HTML=a(198)},84:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addBackfaces=t.cloneVertexData=t.colorVertexData=t.MeshView=void 0;const r=a(385),i=a(689),n=a(302);function s(e,t){for(var a=e.positions.length/3,r=new Array(4*a),i=0;i<a;i++)t.toArray(r,4*i);e.colors=r}t.MeshView=class{constructor(e){var{scene:t=n.latestScene,mesh:a,name:i=a.defaultName,guiColor:o=new r.Color4(0,0,0,1),meshColor:l,startInvisible:h=!1,scale:c=1,rotation:d,translation:u,alpha:m=1}=e;this.prettyName=i,this.color=o,this.mesh=new r.Mesh(i.toLowerCase().replace(" ",""),t.scene),this.mesh.alwaysSelectAsActiveMesh=!0,null!=l&&s(a.vertexData,l),a.vertexData.applyToMesh(this.mesh),null!=a.trails&&(this.mesh.setVerticesData("trail",a.trails,!1,1),console.log(this.mesh),console.log("trails",this.mesh.getVerticesData("trail"))),this.mesh.material=t.material,this.mesh.isVisible=!h,this.mesh.scaling=new r.Vector3(c,c,c),null!=u&&this.mesh.locallyTranslate(u),null!=d&&(this.mesh.rotation=d),m<1&&(this.mesh.visibility=m),this.hasRadius=a.hasRadius}set scale(e){this.mesh.scaling=new r.Vector3(e,e,e)}createControl(){let e=this.color.toHexString(!0),t=new i.Checkbox(this.mesh.name+"_checkbox");t.width="20px",t.height="20px",t.color=e,t.background="white",t.horizontalAlignment=0,t.onIsCheckedChangedObservable.add((e=>{this.mesh.isVisible=e}));let a=new i.TextBlock(this.mesh.name+"_label");a.text=this.prettyName,a.height="30px",a.color="black",a.textHorizontalAlignment=0,a.paddingLeftInPixels=5;let n=new i.StackPanel(this.mesh.name+"_header");n.isVertical=!1,n.width="100%",n.adaptHeightToChildren=!0,n.addControl(t),n.addControl(a);let s=new i.StackPanel(this.mesh.name+"controls");if(s.setPaddingInPixels(5),s.addControl(n),this.hasRadius){let a=new i.Slider(this.mesh.name+"_radius");a.width="100%",a.height="20px",a.value=.1,a.minimum=.1,a.maximum=10,a.color=e,a.onValueChangedObservable.add((e=>{this.mesh.scaling=new r.Vector3(e,e,e),t.isChecked||(t.isChecked=!0)})),s.addControl(a)}return s}},t.colorVertexData=s,t.cloneVertexData=function(e){var t=new r.VertexData;return t.positions=new Float32Array(e.positions),t.indices=new Uint16Array(e.indices),t.normals=new Float32Array(e.normals),e.colors&&(t.colors=new Float32Array(e.colors)),e.uvs&&(t.uvs=new Float32Array(e.uvs)),t},t.addBackfaces=function(e){var t=new r.VertexData;t.positions=e.positions,e.colors&&(t.colors=new Float32Array(e.colors)),e.uvs&&(t.uvs=new Float32Array(e.uvs));let a=new Uint32Array(e.indices.length);for(let t=0;t<e.indices.length/3;t++)a[3*t+0]=e.indices[3*t+0],a[3*t+1]=e.indices[3*t+2],a[3*t+2]=e.indices[3*t+1];t.indices=a;let i=new Float32Array(e.normals.length);for(let t=0;t<e.normals.length/3;t++){let a=new r.Vector3(e.normals[3*t+0],e.normals[3*t+1],e.normals[3*t+2]).scale(-1);i[3*t+0]=a.x,i[3*t+1]=a.y,i[3*t+2]=a.z}t.normals=i,e.merge(t)}},970:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParticleRings=t.ParticlePlaneRingHalf=t.ParticlePlaneRing=t.ParticlePlane=t.Disc=t.Plane=void 0;const r=a(385);function i(e,t,a){for(var i=new Float32Array(4*e.length*3*2),n=new Uint32Array(6*e.length*2),s=0;s<e.length;s++){let r=e[s].x,o=e[s].y,l=t,h=t;null!=a&&(l=a[s].x*t,h=a[s].y*t),i[24*s+0]=r+l,i[24*s+1]=o+h,i[24*s+2]=0,i[24*s+3]=r+h,i[24*s+4]=o-l,i[24*s+5]=0,i[24*s+6]=r-l,i[24*s+7]=o-h,i[24*s+8]=0,i[24*s+9]=r-h,i[24*s+10]=o+l,i[24*s+11]=0,i[24*s+12]=r+l,i[24*s+13]=o+h,i[24*s+14]=0,i[24*s+15]=r+h,i[24*s+16]=o-l,i[24*s+17]=0,i[24*s+18]=r-l,i[24*s+19]=o-h,i[24*s+20]=0,i[24*s+21]=r-h,i[24*s+22]=o+l,i[24*s+23]=0,n[12*s+0]=8*s+0,n[12*s+1]=8*s+1,n[12*s+2]=8*s+2,n[12*s+3]=8*s+0,n[12*s+4]=8*s+2,n[12*s+5]=8*s+3,n[12*s+6]=8*s+4,n[12*s+7]=8*s+6,n[12*s+8]=8*s+5,n[12*s+9]=8*s+4,n[12*s+10]=8*s+7,n[12*s+11]=8*s+6}var o=[];r.VertexData.ComputeNormals(i,n,o);var l=new r.VertexData;return l.positions=i,l.indices=n,l.normals=o,l}t.Plane=function(e){for(var t=new Array(e+1),a=0;a<=e;a++)t[a]=new Array(e+1);for(a=0;a<=e;a++)for(var i=0;i<=e;i++)t[a][i]=new r.Vector3(a/e*20-10,i/e*20-10,0);return{vertexData:r.CreateRibbonVertexData({pathArray:t,sideOrientation:r.Mesh.DOUBLESIDE}),hasRadius:!1,defaultName:"Plane"}},t.Disc=function(e=50){for(var t=new Array(e),a=new Array(e),i=new Array(4*e+4),n=0;n<e;n++){var s=2*Math.PI*n/e,o=Math.cos(s),l=Math.sin(s);t[n]=new r.Vector3(o,l,0),a[n]=new r.Vector3(.5*o,.5*l,0)}for(n=0;n<=e;n++){let e=1;n%3==0&&(e=0),i[4*n+0]=new r.Color4(e,e,e,1),i[4*n+1]=i[4*n],i[4*n+2]=i[4*n],i[4*n+3]=i[4*n]}return{vertexData:r.CreateRibbonVertexData({pathArray:[t,a],closePath:!0,sideOrientation:r.Mesh.DOUBLESIDE,colors:i}),hasRadius:!0,defaultName:"Disc"}},t.ParticlePlane=function(e=50,t=.1,a=10){for(var n=new Array(e*e),s=0;s<e;s++){let t=s/(e-1)*a*2-a;for(var o=0;o<e;o++){let i=o/(e-1)*a*2-a;n[s*e+o]=new r.Vector2(t,i)}}return{vertexData:i(n,t),hasRadius:!1,defaultName:"Particle Plane"}},t.ParticlePlaneRing=function(e){for(var{innerRadius:t=1,outerRadius:a=10,particlesPerSide:n=50,particleSize:s=.1}=e,o=new Array,l=0;l<n;l++){let e=l/(n-1)*a*2-a;for(var h=0;h<n;h++){let i=h/(n-1)*a*2-a,s=new r.Vector2(e,i);s.length()>t&&s.length()<a&&o.push(s)}}return{vertexData:i(o,s),hasRadius:!1,defaultName:"Particle Plane"}},t.ParticlePlaneRingHalf=function(e){for(var{innerRadius:t=1,outerRadius:a=10,particlesPerSide:n=50,particleSize:s=.1}=e,o=new Array,l=0;l<n/2;l++){let e=l/(n-1)*a*2;for(var h=0;h<n;h++){let i=h/(n-1)*a*2-a,s=new r.Vector2(e,i);s.length()>t&&s.length()<a&&o.push(s)}}return{vertexData:i(o,s),hasRadius:!1,defaultName:"Particle Plane"}},t.ParticleRings=function(e){for(var{innerRadius:t=.5,outerRadius:a=1,radialSegments:n=5,angleSegments:s=50,particleSize:o=.1}=e,l=new Array((n+1)*s),h=new Array((n+1)*s),c=0;c<=n;c++){let e=t+c/n*(a-t);for(var d=0;d<s;d++){let t=2*Math.PI*(d/s);l[c*s+d]=new r.Vector2(Math.cos(t)*e,Math.sin(t)*e),h[c*s+d]=new r.Vector2(Math.sin(t+Math.PI/8),Math.cos(t+Math.PI/8))}}return{vertexData:i(l,o,h),hasRadius:!1,defaultName:"Particle Rings"}}},23:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeCage=t.ArrowRing=t.OuterCage=t.Axis=t.Cage=t.Ring=void 0;const r=a(385);function i(e=100,t=.1,a=r.Mesh.DOUBLESIDE){for(var i=new Array(e),n=new Array(e),s=0;s<e;s++){var o=2*Math.PI*s/e,l=Math.cos(o),h=Math.sin(o);i[s]=new r.Vector3(l,h,t/2),n[s]=new r.Vector3(l,h,-t/2)}return r.CreateRibbonVertexData({pathArray:[i,n],closePath:!0,sideOrientation:a})}function n(e=100,t=.1,a=r.Mesh.DOUBLESIDE){var n=i(e,t,a),s=i(e,t,a);s.transform(r.Matrix.RotationX(Math.PI/2));var o=i(e,t,a);return o.transform(r.Matrix.RotationY(Math.PI/2)),n.merge(s),n.merge(o),n}t.Ring=function(e,t){return{vertexData:i(e,t),hasRadius:!0,defaultName:"Ring"}},t.Cage=function(e,t){return{vertexData:n(e,t),hasRadius:!0,defaultName:"Cage"}},t.Axis=function(e){for(var{lengthSegments:t=100,widthSegments:a=5,width:i=3,half:n=!1}=e,s=new Array(a),o=0;o<a;o++)s[o]=new Array(t);for(var l=0;l<t;l++)for(o=0;o<a;o++){let e=l/(t-1);n?e*=10:e=20*e-10,s[o][l]=new r.Vector3(e,-i/2+i*(o/(a-1)),0)}return{vertexData:r.CreateRibbonVertexData({pathArray:s,closePath:!1,sideOrientation:r.Mesh.DOUBLESIDE}),hasRadius:!1,defaultName:"Axis"}},t.OuterCage=function(){return{vertexData:n(100,.1,r.Mesh.FRONTSIDE),hasRadius:!1,defaultName:"Outer Cage"}},t.ArrowRing=function(e){for(var{radius:t=1,arc:a=Math.PI,arcSegments:i=100,width:n=.1,widthSegments:s=1,arrowArc:o=.1,arrowWidth:l=.5,arrowSegments:h=5}=e,c=new Array(s+1),d=0;d<=s;d++)c[d]=new Array(h+1);for(let e=0;e<=h;e++){let a=e/h*o,i=Math.cos(a)*t,n=Math.sin(a)*t,u=e/h*l;for(d=0;d<=s;d++)c[d][e]=new r.Vector3(i,n,(d/s-.5)*u)}var u=r.CreateRibbonVertexData({pathArray:c,sideOrientation:r.Mesh.DOUBLESIDE});for(c=new Array(s+1),d=0;d<=s;d++)c[d]=new Array(i+1);for(let e=0;e<=i;e++){let l=e/i*(a-o)+o,h=Math.cos(l)*t,u=Math.sin(l)*t;for(d=0;d<=s;d++)c[d][e]=new r.Vector3(h,u,(d/s-.5)*n)}var m=r.CreateRibbonVertexData({pathArray:c,sideOrientation:r.Mesh.DOUBLESIDE});return u.merge(m),{vertexData:u,hasRadius:!1,defaultName:"Arrow"}},t.makeCage=n},174:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SphereRainbow=t.Sphere=void 0;const r=a(385),i=a(84),n=a(23);t.Sphere=function(e=new r.Color4(.8,.4,.4,1),t=new r.Color4(.2,0,0,1)){var a=r.CreateIcoSphereVertexData({subdivisions:6,flat:!1});(0,i.colorVertexData)(a,e);var s=(0,n.makeCage)();return(0,i.colorVertexData)(s,t),a.merge(s),{vertexData:a,hasRadius:!0,defaultName:"Sphere"}},t.SphereRainbow=function(){for(var e=new Array(9),t=0;t<=8;t++){e[t]=new Array(9);for(var a=0;a<=8;a++){let i=t/8*Math.PI/2,n=a/8*Math.PI/2,s=Math.cos(i);e[t][a]=new r.Vector3(Math.cos(n)*s,Math.sin(i),Math.sin(n)*s)}}var n=r.CreateRibbonVertexData({pathArray:e,sideOrientation:r.Mesh.BACKSIDE});(0,i.colorVertexData)(n,new r.Color4(1,.5,.5,1));var s=(0,i.cloneVertexData)(n);s.transform(r.Matrix.RotationYawPitchRoll(0,Math.PI/2,0)),(0,i.colorVertexData)(s,new r.Color4(.5,0,0,1));var o=(0,i.cloneVertexData)(n);o.transform(r.Matrix.RotationYawPitchRoll(0,Math.PI,0)),(0,i.colorVertexData)(o,new r.Color4(.5,1,.5,1));var l=(0,i.cloneVertexData)(n);l.transform(r.Matrix.RotationYawPitchRoll(0,Math.PI/2*3,0)),(0,i.colorVertexData)(l,new r.Color4(0,.5,0,1));var h=(0,i.cloneVertexData)(n);h.transform(r.Matrix.RotationYawPitchRoll(0,0,Math.PI/2)),(0,i.colorVertexData)(h,new r.Color4(.5,0,0,1));var c=(0,i.cloneVertexData)(n);c.transform(r.Matrix.RotationYawPitchRoll(0,Math.PI/2,Math.PI/2)),(0,i.colorVertexData)(c,new r.Color4(1,.5,.5,1));var d=(0,i.cloneVertexData)(n);d.transform(r.Matrix.RotationYawPitchRoll(0,Math.PI,Math.PI/2)),(0,i.colorVertexData)(d,new r.Color4(0,.5,0,1));var u=(0,i.cloneVertexData)(n);return u.transform(r.Matrix.RotationYawPitchRoll(0,Math.PI/2*3,Math.PI/2)),(0,i.colorVertexData)(u,new r.Color4(.5,1,.5,1)),n.merge(s),n.merge(o),n.merge(l),n.merge(h),n.merge(c),n.merge(d),n.merge(u),{vertexData:n,hasRadius:!0,defaultName:"Sphere"}}},646:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AxisTube=t.AxisStrap=t.RingStrap=void 0;const r=a(385);function i(e,t,a,i,n,s,o){for(var l=new Array(n+1),h=0;h<=n;h++)l[h]=new Array(s+1);for(var c=0;c<=s;c++){let o=r.Vector3.Lerp(e,a,c/s),d=r.Vector3.Lerp(t,i,c/s);for(h=0;h<=n;h++)l[h][c]=r.Vector3.Lerp(o,d,h/n)}return r.CreateRibbonVertexData({pathArray:l,closePath:!1,sideOrientation:o})}function n(e,t,a=0,i,n,s){for(var o=new Array(n+1),l=a<=0,h=l?i:i+1,c=0;c<=n;c++)o[c]=new Array(h);for(let s=0;s<h;s++){let l=s/i;l*=a<=0?2*Math.PI:a;let h=Math.cos(l)*e,d=Math.sin(l)*e;for(c=0;c<=n;c++)o[c][s]=new r.Vector3(h,d,(c/n-.5)*t)}return r.CreateRibbonVertexData({pathArray:o,sideOrientation:s,closePath:l})}function s(e,t,a,i=0,n,s,o){for(var l=new Array(s+1),h=i<=0,c=h?n:n+1,d=0;d<=s;d++)l[d]=new Array(c);for(let o=0;o<c;o++){let h=o/n;for(h*=i<=0?2*Math.PI:i,d=0;d<=s;d++){let i=e+d/s*(t-e),n=Math.cos(h)*i,c=Math.sin(h)*i;l[d][o]=new r.Vector3(n,c,a)}}return r.CreateRibbonVertexData({pathArray:l,sideOrientation:o,closePath:h})}t.RingStrap=function(e){var{radius:t=1,height:a=.5,width:i=.1,arcSegments:o=100,heightSegments:l=1,widthSegments:h=1}=e,c=n(t-i/2,a,0,o,l,r.Mesh.BACKSIDE),d=n(t+i/2,a,0,o,l,r.Mesh.FRONTSIDE),u=s(t-i/2,t+i/2,a/2,0,o,h,r.Mesh.BACKSIDE),m=s(t-i/2,t+i/2,-a/2,0,o,h,r.Mesh.FRONTSIDE);return c.merge(d),c.merge(u),c.merge(m),{vertexData:c,hasRadius:!0,defaultName:"Ring"}},t.AxisStrap=function(e){var{length:t=10,width:a=1,height:n=1,lengthSegments:s=100,widthSegments:o=5,heightSegments:l=5}=e,h=[new r.Vector3(-a/2,-n/2,-t),new r.Vector3(-a/2,+n/2,-t),new r.Vector3(+a/2,+n/2,-t),new r.Vector3(+a/2,-n/2,-t),new r.Vector3(-a/2,-n/2,+t),new r.Vector3(-a/2,+n/2,+t),new r.Vector3(+a/2,+n/2,+t),new r.Vector3(+a/2,-n/2,+t)],c=i(h[0],h[1],h[4],h[5],o,s,r.Mesh.FRONTSIDE);return c.merge(i(h[2],h[3],h[6],h[7],o,s,r.Mesh.FRONTSIDE)),c.merge(i(h[1],h[2],h[5],h[6],l,s,r.Mesh.FRONTSIDE)),c.merge(i(h[3],h[0],h[7],h[4],l,s,r.Mesh.FRONTSIDE)),{vertexData:c,hasRadius:!1,defaultName:"Axis"}},t.AxisTube=function(e){var{length:t=10,radius:a=.2,lengthSegments:i=100,arcSegments:n=32}=e,s=new Array(n);for(let e=0;e<n;e++)s[e]=new Array(i+1);for(let e=0;e<n;e++){let l=e/n*Math.PI*2,h=Math.cos(l)*a,c=Math.sin(l)*a;for(var o=0;o<=i;o++)s[e][o]=new r.Vector3(h,c,o/i*t*2-t)}return{vertexData:r.CreateRibbonVertexData({pathArray:s,closeArray:!0,sideOrientation:r.Mesh.BACKSIDE}),hasRadius:!1,defaultName:"Axis"}}},590:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Trail=void 0;const r=a(385),i=a(84);t.Trail=function(e){var{numParticles:t=100,position:a=new r.Vector3(0,0,1),normal:n=new r.Vector3(0,0,1),size:s=1,backfaces:o=!1}=e,l=new Float32Array(4*t*3),h=new Uint32Array(6*t),c=new Float32Array(4*t);let d=n.cross(r.Vector3.Up());r.Vector3.DistanceSquared(n,r.Vector3.Up())<.001&&(d=n.cross(r.Vector3.Forward())),d=r.Vector3.Normalize(d).scale(s/2);let u=d.cross(n).normalize().scale(s/2),m=a.add(d),f=a.add(u),g=a.add(d.scale(-1)),p=a.add(u.scale(-1));for(var w=0;w<t;w++)l[12*w+0]=m.x,l[12*w+1]=m.y,l[12*w+2]=m.z,l[12*w+3]=f.x,l[12*w+4]=f.y,l[12*w+5]=f.z,l[12*w+6]=g.x,l[12*w+7]=g.y,l[12*w+8]=g.z,l[12*w+9]=p.x,l[12*w+10]=p.y,l[12*w+11]=p.z,h[6*w+0]=4*w+0,h[6*w+1]=4*w+1,h[6*w+2]=4*w+2,h[6*w+3]=4*w+0,h[6*w+4]=4*w+2,h[6*w+5]=4*w+3,c[w]=w/t*(2*Math.PI);var v=[];r.VertexData.ComputeNormals(l,h,v);var x=new r.VertexData;if(x.positions=l,x.indices=h,x.normals=v,o){(0,i.addBackfaces)(x);let e=new Float32Array(2*c.length);e.set(c),e.set(c,c.length),c=e}return{vertexData:x,hasRadius:!1,defaultName:"Trail",trails:c}}},302:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpinorScene=t.latestScene=t.engine=void 0;const r=a(385),i=a(689);var n=document.createElement("canvas");t.engine=new r.Engine(n,!0);const s=new Map;var o;t.SpinorScene=class{constructor(e,a,i){this.canvas="string"==typeof e?document.getElementById(e):e,this.assetLocation=i,this.scene=new r.Scene(t.engine),this.scene.clearColor=new r.Color4(.8,.8,.8,1),this.material=a(this.scene),this.camera=new r.ArcRotateCamera("Camera",Math.PI/4,Math.PI/4,20,r.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),this.camera.upVector=new r.Vector3(0,0,1),this.camera.wheelPrecision=20,this.camera.lowerRadiusLimit=2,this.camera.upperRadiusLimit=30,this.camera.lockedTarget=r.Vector3.Zero(),this.light=new r.HemisphericLight("light",new r.Vector3(1,1,0),this.scene),this.view=t.engine.registerView(this.canvas,this.camera),s.set(this.view,this),t.latestScene=this,null==o?(o=this,t.engine.inputElement=this.canvas,this.scene.attachControl()):this.scene.detachControl(),this.canvas.addEventListener("mouseover",(()=>{o.scene.detachControl(),t.engine.inputElement=this.canvas,this.scene.attachControl(),o=this})),this.canvas.addEventListener("wheel",(e=>{e.preventDefault(),e.stopPropagation()})),this.linkedCameraScenes=new Array}get gui(){return null==this._gui&&(this._gui=i.AdvancedDynamicTexture.CreateFullscreenUI("UI",!0,this.scene)),this._gui}static LinkCameras(...e){for(var t=0;t<e.length-1;t++)for(var a=t+1;a<e.length;a++)e[t].linkedCameraScenes.push(e[a]),e[a].linkedCameraScenes.push(e[t])}},t.engine.runRenderLoop((()=>{if(s.has(t.engine.activeView)){let a=s.get(t.engine.activeView);if(a.scene.render(),o==a)for(var e of a.linkedCameraScenes)e.camera.alpha=a.camera.alpha,e.camera.beta=a.camera.beta,e.camera.radius=a.camera.radius}}))}},e=>(e.O(0,[216],(()=>(519,e(e.s=519)))),e.O())])));